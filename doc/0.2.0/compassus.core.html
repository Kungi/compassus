<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>compassus.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Compassus</span> <span class="project-version">0.2.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="compassus.core.html"><div class="inner"><span>compassus.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="compassus.core.html#var-application"><div class="inner"><span>application</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-application.3F"><div class="inner"><span>application?</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-compassus-merge"><div class="inner"><span>compassus-merge</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-current-route"><div class="inner"><span>current-route</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-dispatch"><div class="inner"><span>dispatch</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-get-reconciler"><div class="inner"><span>get-reconciler</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-index-route"><div class="inner"><span>index-route</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-mount.21"><div class="inner"><span>mount!</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-root-class"><div class="inner"><span>root-class</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-set-route.21"><div class="inner"><span>set-route!</span></div></a></li><li class="depth-1"><a href="compassus.core.html#var-ui_5448"><div class="inner"><span>ui_5448</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">compassus.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-application"><h3>application</h3><div class="usage"><code>(application {:keys [routes wrapper reconciler-opts], :as opts})</code></div><div class="doc"><pre class="plaintext">Construct a Compassus application from a configuration map.

Required parameters:

  :routes          - a map of route handler (keyword) to the Om Next component
                     that knows how to present that route. The function
                     `compassus.core/index-route` must be used to define the
                     application's starting route.

                     Example: {:index (compassus/index-route Index)
                               :about About}

  :reconciler-opts - a map of options used to construct the Om Next reconciler.
                     Valid options can be found in the following link:

                     <a href="https://github.com/omcljs/om/wiki/Documentation-%28om.next%29#reconciler-1">https://github.com/omcljs/om/wiki/Documentation-%28om.next%29#reconciler-1</a>

Optional parameters:

  :wrapper         - a function or an Om Next component factory that will wrap
                     all the routes in the application. Useful for applications
                     that have a common layout for every route.

                     It will be passed a map with the following keys (props in
                     the case of a component factory):

                     :owner   - the parent component instance

                     :factory - the component factory for the current route

                     :props   - the props for the current route.

  :history         - a map with keys `:setup` and `:teardown`. Values should
                     be functions of no arguments that will be called when the
                     application mounts and unmounts, respectively. Used to
                     set up / teardown browser history listeners.
</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L238">view source</a></div></div><div class="public anchor" id="var-application.3F"><h3>application?</h3><div class="usage"><code>(application? x)</code></div><div class="doc"><pre class="plaintext">Returns true if x is a Compassus application
</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L53">view source</a></div></div><div class="public anchor" id="var-compassus-merge"><h3>compassus-merge</h3><div class="usage"><code>(compassus-merge reconciler state res query)</code></div><div class="doc"><pre class="plaintext">Helper function to replace `om.next/default-merge`. Unwraps the current route
from the remote response and merges that into the state instead.</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L207">view source</a></div></div><div class="public anchor" id="var-current-route"><h3>current-route</h3><div class="usage"><code>(current-route x)</code></div><div class="doc"><pre class="plaintext">Returns the current application route. x might be the application,
the reconciler or a component instance.</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L73">view source</a></div></div><div class="public anchor" id="var-dispatch"><h3>dispatch</h3><div class="usage"><code>(dispatch {:keys [target]} key _)</code></div><div class="doc"><pre class="plaintext">Helper function for implementing Compassus internal read and mutate multimethods.
Dispatches on the remote target and the parser dispatch key.</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L106">view source</a></div></div><div class="public anchor" id="var-get-reconciler"><h3>get-reconciler</h3><div class="usage"><code>(get-reconciler app)</code></div><div class="doc"><pre class="plaintext">Returns the Om Next reconciler for the given Compassus application.
</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L9">view source</a></div></div><div class="public anchor" id="var-index-route"><h3>index-route</h3><div class="usage"><code>(index-route class)</code></div><div class="doc"><pre class="plaintext">Specifies that the given class is the index route of the application
</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L67">view source</a></div></div><div class="public anchor" id="var-mount.21"><h3>mount!</h3><div class="usage"><code>(mount! app target)</code></div><div class="doc"><pre class="plaintext">Given a Compassus application and a target root DOM node, mount the
application. Analogous to `om.next/add-root!`.</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L58">view source</a></div></div><div class="public anchor" id="var-root-class"><h3>root-class</h3><div class="usage"><code>(root-class app)</code></div><div class="doc"><pre class="plaintext">Returns the application's root class.
</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L14">view source</a></div></div><div class="public anchor" id="var-set-route.21"><h3>set-route!</h3><div class="usage"><code>(set-route! x next-route)</code><code>(set-route! x next-route {:keys [queue?]})</code></div><div class="doc"><pre class="plaintext">Given a reconciler, Compassus application or component, update the application's
route. `next-route` may be a keyword or an ident. Takes an optional third
options argument. Supported options are `queue?`, a boolean denoting if the
application root should be queued for re-render. Defaults to true.</pre></div><div class="src-link"><a href="https://github.com/anmonteiro/compassus/blob/master/src/main/compassus/core.cljc#L84">view source</a></div></div><div class="public anchor" id="var-ui_5448"><h3>ui_5448</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>